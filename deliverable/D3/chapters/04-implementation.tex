\chapter{Implementazione}
L'applicazione è stata sviluppata usando il linguaggio di programmazione ``\texttt{TypeScript}'' sia per la parte di \textit{frontend} che per quella di \textit{backend}. Per la parte di \textit{backend} è stato sfruttato il \textit{runtime system} ``\texttt{Node.js}'' e il \textit{framework} ``\texttt{Express.js}'' per la creazione e gestione del \textit{server}. Per la parte di \textit{frontend} è stato utilizzato il \textit{framework} ``\texttt{Vue.js}'' con la libreria ``\texttt{PrimeVue}'' per alcune componenti grafiche. Il \textit{database} utilizzato è ``\texttt{MongoDB}'' e per la gestione delle dipendenze è stato utilizzato ``\texttt{npm}''.\newline
Si è inoltre scelto di usare \texttt{Vite} come \textit{bundler} per la parte di \textit{frontend} e \texttt{Webpack} per la parte di \textit{backend}. Oltre a questo per alcuni stili della libreria \texttt{PrimeVue} è stato usato \texttt{Tailwind CSS} e come conseguenza è stato usato \texttt{PostCSS} per la gestione dei fogli di stile. \newline
La scelta di usare \texttt{TypeScript} è scaturita dalla necessità di avere un controllo maggiore sul \textit{type-checking} e per avere una maggiore manutenibilità del codice, è sata creata infatti una vera e propria gerarchia di tipi per la gestione dei dati sia lato \textit{frontend} che lato \textit{backend}. \newline
La scelta del presente \textit{stack} tecnologico è stata fatta in base al materiale fornito dal corso ed conoscenze pregresse di alcuni membri del gruppo.

\section{Repository Organization}
    Il codice del progetto, disponibile presso la seguente repository \url{https://github.com/lucafano04/progettoComune}, è stato organizzato seguendo la seguente struttura:
    \dirtree{%
        .1 /.
        .2 /.github.
        .3 /workflows\DTcomment{Directory per le action di GitHub (Compilazione \LaTeX{} e test)}.
        .2 /.vscode\DTcomment{Directory per le impostazioni di Visual Studio Code}.
        .2 /APIdoc.
        .3 api.yaml\DTcomment{Documentazione \texttt{API}}.
        .2 /app\DTcomment{Directory per il codice di \textit{backend}}.
        .3 /db.
        .4 /models\DTcomment{Directory per i modelli del \textit{database}}.
        .4 index.ts\DTcomment{File di inizializzazione del \textit{database}}.
        .4 schemas.ts\DTcomment{File per la definizione degli schemi del \textit{database}}.
        .3 /routes\DTcomment{Directory per le rotte e gli \textit{endpoints} delle \texttt{API}}.
        .3 /utils\DTcomment{Directory per le \textit{utility} di \textit{backend}}.
        .3 app.ts\DTcomment{File di inizializzazione dell'applicazione \texttt{Express.js}}.
        .3 variables.ts\DTcomment{File per la definizione delle variabili globali e ambientali}.
        .2 /deliverable\DTcomment{Directory per i \textit{deliverable} \LaTeX{}}.
        .3 /D*\DTcomment{Directory per il \textit{deliverable} D*, con * numero del \textit{deliverable}}.
        .3 /images\DTcomment{Directory comune per le immagini di tutti i \textit{deliverable}}.
        .2 /src\DTcomment{Directory per il codice di \textit{frontend}}.
        .3 /assets\DTcomment{Directory per gli \textit{asset} dell'applicazione}.
        .3 /components\DTcomment{Directory per le componenti dell'applicazione}.
        .3 /utils\DTcomment{Directory per le \textit{utility} di \textit{frontend}}.
        .3 App.vue\DTcomment{Componente radice dell'applicazione}.
        .3 index.css\DTcomment{File per il foglio di stile globale}.
        .3 main.ts\DTcomment{File di inizializzazione dell'applicazione \texttt{Vue.js}}.
        .2 /types.
        .3 /Circoscrizioni\DTcomment{Tipi per le circoscrizioni}.
        .3 /Dati\DTcomment{Tipi per i dati comuni a circoscrizioni e quartieri}.
        .3 /Quartieri\DTcomment{Tipi per i quartieri}.
        .3 /Sondaggi\DTcomment{Tipi per i sondaggi}.
        .3 /Utenti\DTcomment{Tipi per gli utenti}.
        .3 /Voti\DTcomment{Tipi per i voti}.
        .3 index.d.ts\DTcomment{File per il raggruppamento dei tipi}.
        .2 .env.example\DTcomment{File di esempio per le variabili ambientali}.
        .2 .gitignore\DTcomment{File per la definizione dei file da ignorare}.
        .2 index.html\DTcomment{Pagina HTML di base dell'applicazione}.
        .2 index.ts\DTcomment{File di inizializzazione dell'applicazione}.
        .2 package.json\DTcomment{File per la definizione delle dipendenze}.
        .2 pitch.pptx\DTcomment{Presentazione del progetto}.
        .2 *.config.js\DTcomment{File per la configurazione di \texttt{Webpack}, \texttt{TailWind} e \texttt{PostCSS}. Sostituendo * con la configurazione desiderata}.
        .2 tsconfig.*.json\DTcomment{File vari per la configurazione di \texttt{TypeScript}. Sostituendo * con la configurazione desiderata}.
        .2 vite.config.ts\DTcomment{File per la configurazione di \texttt{Vite} per la parte di \textit{frontend}}.
    }
\section{\textit{Branching Strategy} e organizzazione del lavoro}
    Per la gestione del lavoro si è scelto di utilizzare la piattaforma \texttt{GitHub} e di adottare una strategia di \textit{branching} basata su \textit{GitFlow}. In particolare si è deciso di utilizzare i seguenti \textit{branch}:
    \begin{description}
        \item[\texttt{main}] \textit{Branch} principale, contiene il codice stabile e funzionante;
        \item[\texttt{frontend}] \textit{Branch} per lo sviluppo della parte di \textit{frontend};
        \item[\texttt{MongoDB-Backend}] \textit{Branch} per lo sviluppo della parte di \textit{backend} e del \textit{database};
        \item[\texttt{D*} e \texttt{modificheD*}] \textit{Branch} per lo sviluppo dei \textit{deliverable} D* e per le modifiche successive;
        \item[\texttt{UserStory} - \texttt{UserWorkFlow}] \textit{Branch} per la scrittura delle \textit{User Story} il disegno dei \textit{User WorkFlow}. Questi erano \textit{branch} temporanei figli del \textit{branch} \texttt{D2};
        \item[\textit{altri}] Altri \textit{branch} che sono stati creati per lo sviluppo di \textit{pitch} o prime parti iniziali per il \textit{deliverable} \texttt{D1};
    \end{description}
    Come suddivisione dello sviluppo e della scrittura dei \textit{deliverable} si è scelto di assegnare ad ogni membro del gruppo una particolare area di lavoro individuando un responsabile principale per le varie aree di sviluppo e stesura dei documenti, per le slides di \textit{pitch} ognuno ha contribuito in modo equo. Distinguiamo quindi i seguenti ruoli:
    \begin{description}
        \item[Luca Facchini] Responsabile della parte pratica di \textit{backend}, \textit{frontend}. Responsabile principale per la scrittura del documento \texttt{D3}. Addetto alla prima scrittura di requisiti funzionali e non funzionali per il \textit{deliverable} D1; 
        \item[Luca Prigione] Responsabile principale per il documento \texttt{D1} e co-responsabile per il documento \texttt{D2}. Responsabile inoltre per la parte pratica riguardante la struttura del \textit{database}. Addetto alla stesura delle \textit{UserStories} per il \texttt{D3};
        \item[Enrico Faa] Co-responsabile per il documento \texttt{D2} e responsabile di tutti i grafici presenti su tutti i documenti (\texttt{UserWorkFlow}, \texttt{UseCaseDiagram}, \texttt{ClassDiagram}, \dots). Addetto alla stesura delle \textit{UserStories} per il \texttt{D3} ed addetto alla parte di \textit{Testing} per il \texttt{D3}; Addetto inoltre alla prima stesura della descrizione del progetto
    \end{description}
\section{\textit{Dependency}}
    \paragraph{Dipendenze principali} Sono state utilizzate le seguenti dipendenze principali:
    \begin{description}
        \item[\texttt{express}] per la creazione e gestione del \textit{server} e delle rotte;
        \item[\texttt{mongoose}] per la gestione del \textit{database};
        \item[\texttt{mongodb}] per la connessione al \textit{database};
        \item[\texttt{jsonwebtoken}] per la gestione dei \textit{token} di autenticazione;
    \end{description}
    \paragraph{Dipendenze di sviluppo}
    \begin{description}
        \item[\texttt{concurrenly}] per l'esecuzione di più comandi in parallelo durante le fasi di sviluppo e \textit{build} del progetto;
        \item[\texttt{dotenv}] per la gestione delle variabili ambientali;
        \item[\texttt{jest}] per la gestione dei test;
        \item[\texttt{nodemon}] per il \textit{hot-reloading} del \textit{server} in fase di sviluppo;
        \item[\texttt{postcss}] per la gestione dei fogli di stile;
        \item[\texttt{primevue}] per la creazione di alcune componenti grafiche;
        \item[\texttt{tailwindcss}] per la disposizione della \textit{responsiveness} delle componenti;
        \item[\texttt{TypeScript}] per il \textit{type-checking} e la gestione dei tipi;
        \item[\texttt{ts-node}] per l'esecuzione di codice \texttt{TypeScript} direttamente da \texttt{Node.js};
        \item[\texttt{vite}] per la compilazione e il \textit{bundling} del codice;
        \item[\texttt{vue}] per la creazione delle componenti, inoltre i seguenti sotto-moduli sono stati utilizzati:
            \begin{description}
                \item[\texttt{vue-router}] per la gestione delle rotte;
                \item[\texttt{vue-tsc}] per il \textit{type-checking} di \texttt{Vue.js};
                \item[\texttt{vue-leftlet}] per la gestione delle mappe;
            \end{description}
    \end{description}
\section{\textit{Database}}
    Il \textit{database} è stato progettato per contenere le seguenti collezioni:
    \subsection{Quartiere}
        La collezione \texttt{Quartiere} viene usata per memorizzare i dati relativi ai quartieri di Trento. Ogni documento della collezione contiene i seguenti campi:
        \begin{description}
            \item[\texttt{\_id}] (\texttt{ObjectId}) identificativo univoco del quartiere;
            \item[\texttt{nome}] (\texttt{String}) nome del quartiere;
            \item[\texttt{coordinate}] (\texttt{Number[][]}) coordinate del quartiere;
            \item[\texttt{circoscrizione}] (\texttt{ObjectId}) identificativo della circoscrizione a cui appartiene il quartiere;
            \item[\texttt{popolazione}] (\texttt{Number}) numero di abitanti del quartiere;
            \item[\texttt{superficie}] (\texttt{Number}) superficie del quartiere in $km^2$;
            \item[\texttt{serviziTotali}] (\texttt{Number}) numero totale di servizi presenti nel quartiere;
            \item[\texttt{interventiPolizia}] (\texttt{Number}) numero di interventi della polizia nel quartiere;
            \item[\texttt{etaMedia}] (\texttt{Number}) età media degli abitanti del quartiere;
            \item[\texttt{servizi}] (\texttt{Object}) oggetto contenente i servizi presenti nel quartiere;
                \begin{description}
                    \item[\texttt{areeVerdi}] (\texttt{Number}) numero di aree verdi presenti nel quartiere;
                    \item[\texttt{scuole}] (\texttt{Number}) numero di scuole presenti nel quartiere;
                    \item[\texttt{serviziRistorazione}] (\texttt{Number}) numero di servizi di ristorazione presenti nel quartiere;
                    \item[\texttt{localiNotturni}]
                \end{description}
            \item[\texttt{sicurezza}] (\texttt{Object}) oggetto contenente i dati relativi alla sicurezza del quartiere;
                \begin{description}
                    \item[\texttt{numeroInterventi}] (\texttt{Number}) numero di interventi della polizia nel quartiere;
                    \item[\texttt{incidenti}] (\texttt{Number}) numero di incidenti nel quartiere;
                    \item[\texttt{tassoCriminalità}] (\texttt{Number}) tasso di criminalità del quartiere;
                \end{description}
        \end{description}
    \subsection{Circoscrizione}
        La collezione \texttt{Circoscrizione} viene usata solamente per la memorizzazione delle coordinate e del nome delle circoscrizioni di Trento, questo in quanto i dati relativi alle circoscrizioni vengono estrapolati dai dati dei quartieri stessi. Ogni documento della collezione contiene i seguenti campi:
        \begin{description}
            \item[\texttt{\_id}] (\texttt{ObjectId}) identificativo univoco della circoscrizione;
            \item[\texttt{nome}] (\texttt{String}) nome della circoscrizione;
            \item[\texttt{coordinate}] (\texttt{Number[][]}) coordinate della circoscrizione;
        \end{description}
    \subsection{Sondaggio}
        La collezione \texttt{Sondaggio} viene usata per memorizzare i dati relativi ai sondaggi effettuati dai sondaggisti, in particolare 
        Ogni documento della collezione contiene i seguenti campi:
        \begin{description}
            \item[\texttt{\_id}] (\texttt{ObjectId}) identificativo univoco del sondaggio;
            \item[\texttt{titolo}] (\texttt{String}) titolo del sondaggio;
            \item[\texttt{dataInizio}] (\texttt{Date}) data di inizio del sondaggio;
            \item[\texttt{isAperto}] (\texttt{Boolean}) \textit{flag} che indica se il sondaggio è aperto o chiuso;
            \item[\texttt{statoApprovazione}] (\texttt{In attesa|Approvato|Rifiutato}) stato di approvazione del sondaggio;
            \item[\texttt{sondaggista}] (\texttt{ObjectId}) identificativo del sondaggista;
        \end{description}
    \subsection{\textit{User}}
        La collezione \texttt{User} viene usata per memorizzare i dati relativi agli utenti dell'applicazione. Questa collection viene strutturata in questo modo in quanto per lo scopo del progetto non viene implementato il sistema di autenticazione \texttt{SSO} tramite \texttt{SPID}/\texttt{CIE}/\texttt{TS-CNS}. Nel caso si dovesse implementare un sistema di autenticazione tramite \texttt{SSO} pubblico la collezione conterrebbe solo una associazione tra l'utente e i suoi dati personali.
        Ogni documento della collezione contiene i seguenti campi:
        \begin{description}
            \item[\texttt{\_id}] (\texttt{ObjectId}) identificativo univoco dell'utente;
            \item[\texttt{nome}] (\texttt{String}) nome dell'utente;
            \item[\texttt{cognome}] (\texttt{String}) cognome dell'utente;
            \item[\texttt{email}] (\texttt{String}) email dell'utente;
            \item[\texttt{password}] (\texttt{String}) password dell'utente;
            \item[\texttt{ruolo}] (\texttt{Amministratore|Analista|Sondaggista|Circoscrizione}) ruolo dell'utente;
            \item[\texttt{imageUrl}] (\texttt{String}) \textit{Hash} dell'immagine profilo dell'utente;
        \end{description}
    \subsection{Voto}
        La collezione \texttt{Voto} viene usata per memorizzare i voti dati dai cittadini ai quartieri. Ogni documento della collezione contiene i seguenti campi:
        \begin{description}
            \item[\texttt{\_id}] (\texttt{ObjectId}) identificativo univoco del voto;
            \item[\texttt{eta}] (\texttt{Number}) età del votante;
            \item[\texttt{voto}] (\texttt{Number}) voto dato al quartiere;
            \item[\texttt{quartiere}] (\texttt{ObjectId}) identificativo del quartiere votato;
            \item[\texttt{dataOra}] (\texttt{Date}) data e ora del voto;
            \item[\texttt{sondaggio}] (\texttt{ObjectId}) identificativo del sondaggio a cui il voto è associato;
        \end{description}
\section{Testing}

    Per ognuno dei requisiti funzionali implementati nell'applicazione sono stati individuati dei casi di test per assicurare la loro corretta implementazione e, in generale, il corretto funzionamento degli elementi di frontend e backend del sistema, anche in situazioni di casi limite.

    \subsection{RF1: Visualizzazione Città}
        \begin{itemize}
            \item \textbf{Test Case 1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Apertura dell'applicazione e visualizzazione della homepage come utente non loggato.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} 
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} L'applicazione mostra a schermo: sulla sinistra gli attributi demografici e riguardanti la soddisfazione di Trento. Sulla destra la mappa di Trento divisa per quartieri, colorati da rosso a verde in base alla relativa soddisfazione media. In alto a destra l'icona per eseguire il login e il menù drop-down.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Apertura dell'applicazione e visualizzazione della homepage come utente Analista.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} L'utente è loggato in un account Analista.
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} L'applicazione mostra a schermo:  sulla sinistra gli attributi demografici e riguardanti la soddisfazione di Trento. Sulla destra la mappa di Trento divisa per quartieri, colorati da rosso a verde in base alla relativa soddisfazione media. In alto a destra l'immagine di profilo dell'utente, la scritta "Ciao, [nome utente]!", e il menù drop-down.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
        \end{itemize}


    \subsection{RF2: Interazione Con La Mappa}
        \begin{itemize}
            \item \textbf{Test Case 1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Spostamento del focus della mappa.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} 
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Il centro della mappa si sposta nella direzione in cui viene trascinato.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 2.1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Zoom in/out della mappa utilizzando la rotella del mouse.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} 
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} La mappa fa zoom in quando la rotella del mouse viene spostata in alto, e fa zoom out quando viene spostata in basso.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 2.2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Zoom in/out della mappa utilizzando i pulsanti nell'angolo.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} 
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} La mappa fa zoom in quando il pulsante con il segno "+" viene premuto, e fa zoom out quando viene premuto il pulsante con il segno "-".
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 3.1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Selezione di una zona cliccando su di essa nella mappa.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} 
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} La mappa si sposta alla sinistra dello schermo e muove il suo focus sulla zona cliccata. Gli attributi della zona cliccata vengono mostrati sulla destra dello schermo.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 3.2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Selezione di una zona cliccando su di essa sulla mappa quando una zona è gia selezionata.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} Una zona è selezionata.
                    \item \textbf{Dipendenze:} Questo test deve essere svolto solo dopo aver svolto il test 3.1, cliccando su una zona diversa da quella cliccata nel test 3.1.
                    \item \textbf{Risultato Atteso:} La zona precedentemente selezionata viene deselezionata. La zona cliccata viene selezionata. La mappa rimane sulla sinistra dello schermo.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 3.3}
                \begin{itemize}
                    \item \textbf{Descrizione:} Deselezione di una zona cliccando su di essa nella mappa.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} Una zona è selezionata
                    \item \textbf{Dipendenze:} Questo test deve essere svolto solo dopo aver svolto i test 3.1 e 3.2, cliccando sulla stessa zona cliccata nel test 3.2.
                    \item \textbf{Risultato Atteso:} La mappa torna alla destra delle schermo e muove il suo focus per inquadrare tutta Trento. Gli attributi demografici e riguardanti la soddisfazione di Trento vengono mostrati sulla sinistra. La zona cliccata smette di essere selezionata.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}  
            \item \textbf{Test Case 4.1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Selezione della divisione per quartieri.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} 
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} La mappa mostra Trento divisa per i suoi quartieri.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 4.2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Selezione della divisione per circoscrizioni.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} 
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} La mappa mostra Trento divisa per le sue circoscrizioni.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 5}
                \begin{itemize}
                    \item \textbf{Descrizione:} Cambio visualizzazione da mappa a tabella.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} L'utente è loggato in un account Analista.
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} La mappa viene sostituita da una tabella che mostra il nome e gli attributi demografici e della soddisfazione delle zone.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
        \end{itemize}


    \subsection{RF6: Login}
        \begin{itemize}
            \item \textbf{Test Case 1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Login in un account.
                    \item \textbf{Test Data:} [username] di un utente registrato nel sistema, [password] di quell'utente.
                    \item \textbf{Precondizioni:} 
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Il login viene effettuato con successo. Una notifica di successo "Login effettuato con successo" appare in alto a destra. Il sistema ritorna automaticamente alla homepage.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Login in un account con password sbagliata.
                    \item \textbf{Test Data:} [username] di un utente registrato nel sistema, [password] diversa da quella di quell'utente.
                    \item \textbf{Precondizioni:} 
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Nessun login viene effettuato. Una notifica di errore "Credenziali errate" appare in alto a destra.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 3}
                \begin{itemize}
                    \item \textbf{Descrizione:} Login in un account che non esiste.
                    \item \textbf{Test Data:} [username] non appartenente ad alcun utente registrato nel sistema.
                    \item \textbf{Precondizioni:} [username] non appartenente ad alcun utente registrato nel sistema.
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Nessun login viene effettuato. Una notifica di errore "Credenziali errate" appare in alto a destra.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 4}
                \begin{itemize}
                    \item \textbf{Descrizione:} Login senza specificare un nome utente.
                    \item \textbf{Test Data:} [username] vuoto.
                    \item \textbf{Precondizioni:} 
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Nessun login viene effettuato. Una notifica di errore "Credenziali errate" appare in alto a destra.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
        \end{itemize}


    \subsection{RF7: Logout}
        \begin{itemize}
            \item \textbf{Test Case 1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Uscita da un account all'interno della homepage.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} L'utente è loggato in un account e si trova sulla homepage dell'applicazione.
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} L'utente torna allo stato di utente non loggato. Una notifica di successo "Logout effettuato con successo" appare in alto a destra. Il sistema ricarica automaticamente la homepage.
                    \item \textbf{Risultato Riscontrato:} 
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Uscita da un account Sondaggista all'interno dell'area gestione sondaggi.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} L'utente è loggato in un account Sondaggista e si trova all'interno dell'area di gestione dei sondaggi.
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} L'utente torna allo stato di utente non loggato. Appare una notifica di successo "Logout effettuato con successo". Il sistema ritorna automaticamente alla homepage.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}                
            \item \textbf{Test Case 3}
                \begin{itemize}
                    \item \textbf{Descrizione:} Uscita dall'account Sondaggista durante un voto.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} L'utente è loggato in un account Sondaggista. Il sistema si trova nel mezzo della creazione di un voto, dopo che è stato premuto il primo pulsante "Vota", ma prima di premere il secondo pulsante "Vota".
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:}
                    \item \textbf{Risultato Riscontrato:} Il voto non viene aggiunto al sondaggio. L'utente torna allo stato di utente non loggato. Appare una notifica di successo "Logout effettuato con successo". Il sistema ritorna automaticamente alla homepage.
                    \item \textbf{Note:}
                \end{itemize}                        
        \end{itemize}


    \subsection{RF9: Gestione Sondaggi}
        \begin{itemize}
            \item \textbf{Test Case 1.1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Creazione di un nuovo sondaggio
                    \item \textbf{Test Data:} [nome sondaggio] non vuoto.
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Viene creato un nuovo sondaggio con il nome inserito. Una notifica di successo "Sondaggio aggiunto con successo" appare in alto a destra.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 1.2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Creazione di due sondaggi con lo stesso nome.
                    \item \textbf{Test Data:} [nome sondaggio] già inserito nel sistema.
                    \item \textbf{Precondizioni:} Un sondaggio con lo stesso nome esiste già nel sistema.
                    \item \textbf{Dipendenze:} Questo test deve essere svolto solo dopo aver svolto il test 1.1, inserendo lo stesso [nome sondaggio].
                    \item \textbf{Risultato Atteso:} Viene creato un secondo sondaggio con lo stesso nome, ma distinto da quello già esistente. Una notifica di successo "Sondaggio aggiunto con successo" appare in alto a destra.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 1.3}
                \begin{itemize}
                    \item \textbf{Descrizione:} Creazione di un nuovo sondaggio senza nome.
                    \item \textbf{Test Data:} [nome sondaggio] vuoto
                    \item \textbf{Precondizioni:} 
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Il sondaggio non viene creato. Una notifica di errore "Nome del sondaggio mancante" appare in alto a destra.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Continuazione di un sondaggio in corso.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} Esiste almeno un sondaggio in corso.
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Viene aperta la pagina di gestione del sondaggio selezionato. Sulla sinistra dello schermo vengono mostrati: il numero parziale dei voti nel sondaggio, l'età media parziale dei voti nel sondaggio, e il numero di voti nel sondaggio per ogni quartiere di Trento (i quartieri per i quali non ci sono voti non vengono mostrati). In alto a destra dello schermo viene mostrata l'interfaccia per aggiungere nuovi voti. In basso a destra dello schermo viene mostrata la lista dei voti e i pulsanti "Esci dal sondaggio", "Chiudi e completa la sessione", "Cancella definitivamente".
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 3}
                \begin{itemize}
                    \item \textbf{Descrizione:} Salvataggio di un sondaggio in corso tramite il pulsante "Esci dal sondaggio".
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Il sondaggio non viene modificato, non viene cancellato, e non viene completato. Il sistema ritorna alla pagina di gestione dei sondaggi.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 4.1} 
                \begin{itemize}
                    \item \textbf{Descrizione:} Eliminazione di un sondaggio in corso tramite il pulsante "Cancella definitivamente".
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Il sistema mostra una finestra "Conferma eliminazione", una volta premuto il pulsante "Elimina" il sondaggio viene cancellato. Una notifica di successo "Sondaggio eliminato con successo" appare in alto a destra. Il sistema ritorna alla pagina di gestione dei sondaggi.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 4.2} 
                \begin{itemize}
                    \item \textbf{Descrizione:} Annullamento dell'eliminazione nella finestra "Conferma eliminazione".
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:} Questo test deve essere svolto solo dopo aver svolto il test 4.1 e aver constatato che la finestra "Conferma eliminazione" viene mostrata quando si preme il pulsante "Cancella definitivamente".
                    \item \textbf{Risultato Atteso:} Se si preme il pulsante "Annulla" nella finestra "Conferma eliminazione" il sondaggio non viene eliminato. Una notifica di informazione "Operazione annullata" appare in alto a destra.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 5.1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Completamento di un sondaggio in corso tramite il pulsante "Chiudi e completa la sessione".
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Il sistema mostra una finestra "Conferma chiusura", una volta premuto il pulsante "Chiudi" il sondaggio viene completato e aggiunto alla lista "Sessioni completate". Il sistema ritorna alla pagina di gestione dei sondaggi.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}                
            \item \textbf{Test Case 5.2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Annullamento del completamento nella finestra "Conferma chiusura".
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:} Questo test deve essere svolto solo dopo aver svolto il test 5.1 e aver constatato che la finestra "Conferma chiusura" viene mostrata quando si preme il pulsante "Chiudi e completa la sessione".
                    \item \textbf{Risultato Atteso:} Se si preme il pulsante "Annulla" nella finestra "Conferma chiusura" il sondaggio non viene completato. Una notifica di informazione "Operazione annullata" appare in alto a destra.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
        \end{itemize}


    \subsection{RF11: Gestione Voti}
        \begin{itemize}
            \item \textbf{Test Case 1.1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Aggiunta di un voto.
                    \item \textbf{Test Data:} [quartiere] non vuoto, [età] non vuota, [valutazione] selezionata. 
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Viene aperta una pagina di selezione della valutazione, una volta selezionata una valutazione e premuto il pulstane "Vota" il voto viene aggiunto alla lista, il numero dei voti nel sondaggio viene aumentato, e l'età media parziale del sondaggio viene aggiornata. Il sistema presenta una schermata "Grazie per aver votato!", premendo il pulsante "Chiudi" si ritorna alla pagina di gestione del sondaggio.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 1.2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Aggiunta di un voto senza specificare il quartiere.
                    \item \textbf{Test Data:} [quartiere] vuoto.
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Non viene aperta la pagina di selezione della valutazione. Una notifica di errore "Compilare tutti i campi" appare in alto a destra.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 1.3}
                \begin{itemize}
                    \item \textbf{Descrizione:} Aggiunta di un voto senza specificare l'età.
                    \item \textbf{Test Data:} [quartiere] non vuoto, [età] vuota.
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:} Questo test deve essere svolto solo dopo aver svolto il test 1.1.
                    \item \textbf{Risultato Atteso:} Il processo di voto procede ugualmente al caso di test 1.1, ma la media parziale del sondaggio rimane uguale.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 1.4}
                \begin{itemize}
                    \item \textbf{Descrizione:} Annullamento di un voto con il pulsante "Annulla".
                    \item \textbf{Test Data:} [quartiere] non vuoto.
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:} Questo test deve essere svolto solo dopo aver svolto il test 1.1.
                    \item \textbf{Risultato Atteso:} Il voto non viene aggiunto al sondaggio. Il sistema ritorna alla pagina di gestione del sondaggio.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 2.1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Eliminazione di un voto.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} Il voto viene eliminato dalla lista dei voti del sondaggio, il numero di voti nel sondaggio diminuisce, e l'età media parziale del sondaggio viene aggiornata. Una notifica di successo "Voto rimosso con successo" appare in alto a destra.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 2.2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Eliminazione di un voto due volte cliccando di nuovo l'icona di eliminazione prima che il voto sparisca dall'interfaccia.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:} Questo test deve essere svolto solo dopo aver svolto il test 2.1 e aver constatato che l'eliminazione dei voti funziona in modo corretto.
                    \item \textbf{Risultato Atteso:} Al primo click il voto viene eliminato normalmente come nel caso di test 2.1, ad ogni altro click successivo non succede niente.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
        \end{itemize}


    \subsection{RF12: Interazione Con La Tabella}
        \begin{itemize}
            \item \textbf{Test Case 1.1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Spostamento del focus della tabella utilizzando la rotella del mouse.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} La tabella scorre in alto quando la rotella del mouse viene spostata in alto, e scorre in basso quando la rotella del mouse viene spostata in basso.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 1.2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Spostamento del focus della tabella utilizzando la barra al lato.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} La tabella scorre nella direzione in cui viene trascinata la barra al lato.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 2.1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Selezione di una zona cliccando sulla sua riga nella tabella.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} La riga cliccata cambia colore e gli attributi della zona vengono mostrati sulla sinistra dello schermo.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 2.2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Selezione di una zona cliccando sulla sua riga nella tabella quando una zona è gia selezionata.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} Una zona è selezionata.
                    \item \textbf{Dipendenze:} Questo test deve essere svolto solo dopo aver svolto il test 2.1, cliccando su una riga diversa da quella cliccata nel test 2.1.
                    \item \textbf{Risultato Atteso:} La zona precedentemente selezionata viene deselezionata. La riga cliccata cambia colore e gli attributi della zona vengono mostrati sulla destra dello schermo.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 2.3}
                \begin{itemize}
                    \item \textbf{Descrizione:} Deselezione di una zona cliccando sulla sua riga nella tabella.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} Una zona è selezionata.
                    \item \textbf{Dipendenze:} Questo test deve essere svolto solo dopo aver svolto i test 2.1 e 2.2, cliccando sulla stessa riga cliccata nel test 2.2.
                    \item \textbf{Risultato Atteso:} Gli attributi demografici e riguardanti la soddisfazione di Trento vengono mostrati sulla sinistra. La riga cliccata smette di essere selezionata.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}  
            \item \textbf{Test Case 3.1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Selezione della divisione per quartieri.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} La tabella mostra gli attributi generali e riguardanti la soddisfazione dei quartieri di Trento.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 3.2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Selezione della divisione per circoscrizioni.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:}
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} La tabella mostra gli attributi generali e riguardanti la soddisfazione delle circoscrizioni di Trento.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 4}
                \begin{itemize}
                    \item \textbf{Descrizione:} Cambio visualizzazione da tabella a mappa.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} L'utente è loggato in un account Analista.
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:}
                    \item \textbf{Risultato Riscontrato:} La tabella viene sostituita da una mappa di Trento divisa per zone, colorate da rosso a verde in base alla relativa soddisfazione media.
                    \item \textbf{Note:}
                \end{itemize}
        \end{itemize}
        

    \subsection{RF13: Accesso Completo Agli Attributi}
        \begin{itemize}
            \item \textbf{Test Case 1.1}
                \begin{itemize}
                    \item \textbf{Descrizione:} Selezione di una categori di attributi.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} L'utente è loggato in un account Analista. Una zona è selezionata.
                    \item \textbf{Dipendenze:}
                    \item \textbf{Risultato Atteso:} La scritta del nome della categoria cliccata cambia colore, sulla sinistra dello schermo vengono mostrati gli attributi della zona selezionata appartenenti alla categoria selezionata.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
            \item \textbf{Test Case 1.2}
                \begin{itemize}
                    \item \textbf{Descrizione:} Selezione di una categoria di attributi già selezionata.
                    \item \textbf{Test Data:}
                    \item \textbf{Precondizioni:} L'utente è loggato in un account Analista. Una zona è selezionata. Una categoria di attributi è selezionata.
                    \item \textbf{Dipendenze:} Questo test deve essere svolto solo dopo aver svolto il test 1.1, cliccando sulla stessa categoria che è stata cliccata nel test 1.1.
                    \item \textbf{Risultato Atteso:} La categoria cliccata rimane selezionata.
                    \item \textbf{Risultato Riscontrato:}
                    \item \textbf{Note:}
                \end{itemize}
        \end{itemize}
